CREATE OR REPLACE PROCEDURE TEMPORARY_WEEK_DISCOUNT(CUSTOMER IN CUSTOMERS.CUSTOMER_ID%TYPE, PERCENT INTEGER)
IS
	
	sum_weight NUMBER(5,3);
BEGIN
	assume price > 0 and price < 999999;
	SELECT SUM(LOADS.WEIGHT) INTO sum_weight from LOADS, ROUTES 
	WHERE LOADS.LOAD_ID IN (SELECT LOAD_ID FROM LOADS WHERE CUSTOMER_ID = CUSTOMER)
	AND START_TIME >= SYSDATE AND START_TIME <= SYSDATE + 7;
END TEMPORARY_WEEK_DISCOUNT;

